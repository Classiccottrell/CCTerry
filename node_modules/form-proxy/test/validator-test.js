/*jslint node: true */
/*global describe, it */
"use strict";

var assert = require('assert');
var validator = require('../lib/validator');

describe('Validator', function() {

	it('should return local errors', function(done) {

		var form =  { email : "asdf", username : "woo" };
		var rules = { email : "email", "username" : "string" };
		var data =  { form:form, rules:rules };

		validator(data, function(err, errors) {
			assert.equal(errors.length, 1);
			assert.equal(errors[0].property, 'email');
			done();
		});

	});

});